axTile.x > maxCoord) maxTile.x = maxCoord;
		if (maxTile.y > maxCoord) maxTile.y = maxCoord;
		
		return maxTile;
	},
	
	needTransparency:function() {
		var pos = navigator.userAgent.indexOf("MSIE ");
		if (pos == -1) return false;
		var version = navigator.userAgent.substring(pos + 5);
		return (((version.indexOf("5.5") == 0) || (version.indexOf("6") == 0)) && (navigator.platform == ("Win32")));
	},
	
	makeTransparent:function(img) {
		var src = img.src;
		if ((src.indexOf(wxtools.MapPane_transparentImg) == -1)  && (src.indexOf('png') != -1)) {
			img.runtimeStyle.filter = '';
			img.src = wxtools.MapPane_transparentImg;
			img.runtimeStyle.filter = 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'' + src + '\',sizingMethod=\'scale\')';
		}
	},
	
	// create a new image tile DOM element
	getTile:function(tileName, tileSet, top, left, timestamp) {
		if (wxtools.MapPane_debug) wxtools.log('MapPane.getTile(' + tileName + ',' + tileSet + ',' + top + ',' + left + ',' + timestamp + ')');
		
		var tileURL = this.getTileURL(tileName, tileSet, timestamp);
		
		var newImage = document.createElement("img");
		newImage.src = tileURL;
		newImage.className = 'MapPane_Tile';
		newImage.style.top = top + 'px';
		newImage.style.left = left + 'px';
		newImage.style.width = wxtools.MapPane_tileSize + 'px';
		newImage.style.height = wxtools.MapPane_tileSize +